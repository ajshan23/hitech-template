import{j as t,r as T,a2 as Q,c as Y,R as Z}from"./index-Bj3mz5Pw.js";import{T as H}from"./index-DhcYxbh9.js";import{S as z,P as ee}from"./Skeleton-DUNfQ8XH.js";import{S as ne}from"./Select-bc2POzie.js";import{C as re}from"./index-C28Iij6M.js";import{u as te,f as B,g as ae,a as ie,b as se,c as oe}from"./index-Bkx5KVf2.js";import{D as le,q as K}from"./Views-Bc58ZmG5.js";import{aa as ce}from"./toString-CQNPFSTv.js";const{Tr:de,Td:ue,TBody:me}=H,fe=c=>{const{columns:i=1,rows:d=10,avatarInColumns:a=[],avatarProps:f}=c;return t.jsx(me,{children:Array.from(new Array(d),(l,o)=>o+0).map(l=>t.jsx(de,{children:Array.from(new Array(i),(o,x)=>x+0).map(o=>t.jsx(ue,{children:t.jsxs("div",{className:"flex flex-auto items-center gap-2",children:[a.includes(o)&&t.jsx("div",{children:t.jsx(z,{variant:"circle",...f})}),t.jsx(z,{})]})},`col-${o}`))},`row-${l}`))})},{Tr:F,Th:ge,Td:xe,THead:he,TBody:pe,Sorter:ve}=H,L=c=>{const{indeterminate:i,onChange:d,onCheckBoxChange:a,onIndeterminateCheckBoxChange:f,...l}=c,o=T.useRef(null);T.useEffect(()=>{typeof i=="boolean"&&o.current&&(o.current.indeterminate=!l.checked&&i)},[o,i]);const x=s=>{d(s),a==null||a(s),f==null||f(s)};return t.jsx(re,{ref:o,className:"mb-0",onChange:(s,r)=>x(r),...l})};function Se(c,i){const{skeletonAvatarColumns:d,columns:a=[],data:f=[],loading:l=!1,onCheckBoxChange:o,onIndeterminateCheckBoxChange:x,onPaginationChange:s,onSelectChange:r,onSort:m,pageSizes:h=[10,25,50,100],selectable:b=!1,skeletonAvatarProps:S,pagingData:u={total:0,pageIndex:1,pageSize:10}}=c,{pageSize:p,pageIndex:j,total:E}=u,[g,y]=T.useState(null),C=T.useMemo(()=>h.map(e=>({value:e,label:`${e} / page`})),[h]),N=(e,n)=>{l||o==null||o(e,n)},_=(e,n)=>{l||x==null||x(e,n)},M=e=>{l||s==null||s(e)},I=e=>{l||r==null||r(Number(e))};T.useEffect(()=>{if(Array.isArray(g)){const e=g.length>0?g[0].desc?"desc":"asc":"",n=g.length>0?g[0].id:"";m==null||m({order:e,key:n})}},[g]);const w=T.useMemo(()=>{const e=a;return b?[{id:"select",header:({table:n})=>t.jsx(L,{checked:n.getIsAllRowsSelected(),indeterminate:n.getIsSomeRowsSelected(),onChange:n.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:v=>{_(v.target.checked,n.getRowModel().rows)}}),cell:({row:n})=>t.jsx(L,{checked:n.getIsSelected(),disabled:!n.getCanSelect(),indeterminate:n.getIsSomeSelected(),onChange:n.getToggleSelectedHandler(),onCheckBoxChange:v=>N(v.target.checked,n.original)})},...e]:e},[a,b]),R=te({data:f,columns:w,getCoreRowModel:ae(),getFilteredRowModel:ie(),getPaginationRowModel:se(),getSortedRowModel:oe(),manualPagination:!0,manualSorting:!0,onSortingChange:e=>{y(e)},state:{sorting:g}}),A=()=>{R.resetSorting()},k=()=>{R.toggleAllRowsSelected(!1)};return T.useImperativeHandle(i,()=>({resetSorting:A,resetSelected:k})),t.jsxs(Q,{loading:l&&f.length!==0,type:"cover",children:[t.jsxs(H,{children:[t.jsx(he,{children:R.getHeaderGroups().map(e=>t.jsx(F,{children:e.headers.map(n=>t.jsx(ge,{colSpan:n.colSpan,children:n.isPlaceholder?null:t.jsxs("div",{className:Y(n.column.getCanSort()&&"cursor-pointer select-none point",l&&"pointer-events-none"),onClick:n.column.getToggleSortingHandler(),children:[B(n.column.columnDef.header,n.getContext()),n.column.getCanSort()&&t.jsx(ve,{sort:n.column.getIsSorted()})]})},n.id))},e.id))}),l&&f.length===0?t.jsx(fe,{columns:w.length,rows:u.pageSize,avatarInColumns:d,avatarProps:S}):t.jsx(pe,{children:R.getRowModel().rows.slice(0,p).map(e=>t.jsx(F,{children:e.getVisibleCells().map(n=>t.jsx(xe,{children:B(n.column.columnDef.cell,n.getContext())},n.id))},e.id))})]}),t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsx(ee,{pageSize:p,currentPage:j,total:E,onChange:M}),t.jsx("div",{style:{minWidth:130},children:t.jsx(ne,{size:"sm",menuPlacement:"top",isSearchable:!1,value:C.filter(e=>e.value===p),options:C,onChange:e=>I(e==null?void 0:e.value)})})]})]})}const qe=T.forwardRef(Se);var q,U;function Te(){if(U)return q;U=1;var c=le(),i=function(){return c.Date.now()};return q=i,q}var P,V;function be(){if(V)return P;V=1;var c=/\s/;function i(d){for(var a=d.length;a--&&c.test(d.charAt(a)););return a}return P=i,P}var D,X;function je(){if(X)return D;X=1;var c=be(),i=/^\s+/;function d(a){return a&&a.slice(0,c(a)+1).replace(i,"")}return D=d,D}var O,G;function Ce(){if(G)return O;G=1;var c=je(),i=K(),d=ce(),a=NaN,f=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,x=parseInt;function s(r){if(typeof r=="number")return r;if(d(r))return a;if(i(r)){var m=typeof r.valueOf=="function"?r.valueOf():r;r=i(m)?m+"":m}if(typeof r!="string")return r===0?r:+r;r=c(r);var h=l.test(r);return h||o.test(r)?x(r.slice(2),h?2:8):f.test(r)?a:+r}return O=s,O}var $,J;function Ie(){if(J)return $;J=1;var c=K(),i=Te(),d=Ce(),a="Expected a function",f=Math.max,l=Math.min;function o(x,s,r){var m,h,b,S,u,p,j=0,E=!1,g=!1,y=!0;if(typeof x!="function")throw new TypeError(a);s=d(s)||0,c(r)&&(E=!!r.leading,g="maxWait"in r,b=g?f(d(r.maxWait)||0,s):b,y="trailing"in r?!!r.trailing:y);function C(e){var n=m,v=h;return m=h=void 0,j=e,S=x.apply(v,n),S}function N(e){return j=e,u=setTimeout(I,s),E?C(e):S}function _(e){var n=e-p,v=e-j,W=s-n;return g?l(W,b-v):W}function M(e){var n=e-p,v=e-j;return p===void 0||n>=s||n<0||g&&v>=b}function I(){var e=i();if(M(e))return w(e);u=setTimeout(I,_(e))}function w(e){return u=void 0,y&&m?C(e):(m=h=void 0,S)}function R(){u!==void 0&&clearTimeout(u),j=0,m=p=h=u=void 0}function A(){return u===void 0?S:w(i())}function k(){var e=i(),n=M(e);if(m=arguments,h=this,p=e,n){if(u===void 0)return N(p);if(g)return clearTimeout(u),u=setTimeout(I,s),C(p)}return u===void 0&&(u=setTimeout(I,s)),S}return k.cancel=R,k.flush=A,k}return $=o,$}var Re=Ie();const Pe=Z(Re);export{qe as D,Pe as d};
