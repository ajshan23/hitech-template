import{r as o,R as E}from"./index-Bj3mz5Pw.js";import{a9 as q}from"./toString-CQNPFSTv.js";function b(r){const n=o.useRef(null);return r||n}var f,e;function p(){if(e)return f;e=1;var r=q(),n=0;function t(i){var c=++n;return r(i)+c}return f=t,f}var I=p();const v=E(I),m=(r=10)=>{const n=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=t.length,c=r;for(let u=0;u<c;u++)n[u]=t.charAt(Math.floor(Math.random()*i));return n.join("")};function g(r="",n=10){const t=o.useRef();return t.current||(t.current=`${v(r)}-${m(n)}`),t.current}const h=(r,n)=>{if(r.contains)return r.contains(n);if(r.compareDocumentPosition)return r===n||!!(r.compareDocumentPosition(n)&16);if(n)do if(n===r)return!0;while(n=n.parentNode);return!1},D=r=>r&&("current"in r?r.current:r);function d(r){const n=(r==null?void 0:r.root)||(r==null?void 0:r.child)||D(r);return n!=null&&n.nodeType&&typeof(n==null?void 0:n.nodeName)=="string",n}function y(r){return(r==null?void 0:r.button)===0}function U(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r!=null&&r.shiftKey)}function w(r,n,t,i=!1){return r.addEventListener(n,t,i),{off(){r.removeEventListener(n,t,i)}}}function L(r,{disabled:n,triggerTarget:t,overlayTarget:i}){const c=o.useCallback(u=>{const a=d(t),s=d(i);a&&h(a,u.target)||s&&h(s,u.target)||U(u)||!y(u)||r==null||r(u)},[r,t,i]);o.useEffect(()=>{const u=d(t);if(n||!u)return;const s=w(u&&u.ownerDocument||document,"mousedown",c,!0);return()=>{s==null||s.off()}},[t,n,r,c])}export{b as a,g as b,L as u};
