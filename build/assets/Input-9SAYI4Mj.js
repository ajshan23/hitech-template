import{r as i,ag as et,c as st,j as f,ar as rt}from"./index-Bj3mz5Pw.js";import{u as nt,b as it}from"./context-DBklxPP3.js";import{i as ot}from"./Views-Bc58ZmG5.js";import{i as b}from"./isNil-DFW_rJgM.js";import{g as E}from"./get-CS1_jRFf.js";const ut=i.forwardRef((p,w)=>{var j,R;const{asElement:W="input",className:C,disabled:S,invalid:m,prefix:s,size:A,suffix:r,textArea:x,type:F="text",rows:L,style:$,unstyle:P=!1,field:a,form:h,...g}=p,[T,O]=i.useState(0),[V,D]=i.useState(0),{themeColor:l,controlSize:M,primaryColorLevel:c,direction:y}=et(),Z=(j=nt())==null?void 0:j.size,_=(R=it())==null?void 0:R.size,v=A||_||Z||M,k=t=>typeof t>"u"||t===null?"":t;"value"in p&&(g.value=k(p.value),delete g.defaultValue);const z=i.useMemo(()=>{let t=!1;if(!ot(h)){const{touched:n,errors:e}=h,d=E(n,a.name),tt=E(e,a.name);t=d&&tt}return typeof m=="boolean"&&(t=m),t},[h,m,a]),q="input",B=`input-${v} h-${rt[v]}`,H=`focus:ring-${l}-${c} focus-within:ring-${l}-${c} focus-within:border-${l}-${c} focus:border-${l}-${c}`,J=`input-wrapper ${s||r?C:""}`,K=st(q,!x&&B,!z&&H,!s&&!r?C:"",S&&"input-disabled",z&&"input-invalid",x&&"input-textarea"),o=i.useRef(null),u=i.useRef(null),Q=()=>{var e,d;if(!o.current&&!u.current)return;const t=(e=o==null?void 0:o.current)==null?void 0:e.offsetWidth,n=(d=u==null?void 0:u.current)==null?void 0:d.offsetWidth;b(t)&&b(n)||(t&&O(t),n&&D(n))};i.useEffect(()=>{Q()},[s,r]);const G=t=>.0625*t,U=()=>{const t=`${G(T)+1}rem`,n=`${G(V)+1}rem`,e={};return y==="ltr"&&(s&&(e.paddingLeft=t),r&&(e.paddingRight=n)),y==="rtl"&&(s&&(e.paddingRight=t),r&&(e.paddingLeft=n)),e},N={className:P?"":K,disabled:S,type:F,ref:w,...a,...g},X=f.jsx("textarea",{style:$,rows:L,...N}),I=f.jsx(W,{style:{...U(),...$},...N}),Y=f.jsxs("span",{className:J,children:[s?f.jsxs("div",{ref:o,className:"input-suffix-start",children:[" ",s," "]}):null,I,r?f.jsx("div",{ref:u,className:"input-suffix-end",children:r}):null]});return x?X:s||r?Y:I});ut.displayName="Input";export{ut as I};
