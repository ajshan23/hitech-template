import{r as i,c as k,j as T,G as ae,am as Xe,an as wt}from"./index-Bj3mz5Pw.js";import{c as xt,o as Ct,s as St,f as Tt,g as le,d as Pt,m as Mt}from"./Views-Bc58ZmG5.js";import{A as It}from"./index-DUqM6xV3.js";const Nt=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&typeof n=="object"&&(n.current=t)})},Pe=i.forwardRef((e,t)=>{const{alt:n,className:r,icon:o,shape:a="rounded",size:s="md",src:u,srcSet:f,...l}=e;let{children:m}=e;const[g,b]=i.useState(1),d=i.useRef(null),h=i.useRef(null),c=Nt(t,h),R=()=>{if(!d.current||!h.current)return;const E=d.current.offsetWidth,M=h.current.offsetWidth;E===0||M===0||b(M-8<E?(M-8)/E:1)};i.useEffect(()=>{R()},[g,m]);const C=typeof s=="number"?{width:s,height:s,minWidth:s,lineHeight:`${s}px`,fontSize:o?s/2:12}:{},P=k("avatar",`avatar-${a}`,typeof s=="string"?`avatar-${s}`:"",r);if(u)m=T.jsx("img",{className:`avatar-img avatar-${a}`,src:u,srcSet:f,alt:n,loading:"lazy"});else if(o)m=T.jsx("span",{className:k("avatar-icon",`avatar-icon-${s}`),children:o});else{const E=typeof s=="number"?{lineHeight:`${s}px`}:{},M={transform:`translateX(-50%) scale(${g})`};m=T.jsx("span",{ref:d,className:`avatar-string ${typeof s=="number"?"":`avatar-inner-${s}`}`,style:{...E,...M,...typeof s=="number"?{height:s}:{}},children:m})}return T.jsx("span",{ref:c,className:P,style:{...C,...l.style},...l,children:m})});Pe.displayName="Avatar";function fe(e){return ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},child:[]}]})(e)}function de(e){return ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},child:[]}]})(e)}function me(e){return ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"},child:[]}]})(e)}function ve(e){return ae({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},child:[]}]})(e)}const kt=({placement:e,color:t,colorDark:n})=>{const r=`absolute text-${t} dark:text-${n}`,o=()=>{switch(e){case"top":return T.jsx(fe,{className:k(r,"-bottom-2 w-full left-0")});case"top-start":return T.jsx(fe,{className:k(r,"-bottom-2 left-0 ml-3")});case"top-end":return T.jsx(fe,{className:k(r,"-bottom-2 right-0 mr-3")});case"right":return T.jsx(de,{className:k(r,"-left-2 top-1/2 transform -translate-y-1/2")});case"right-start":return T.jsx(de,{className:k(r,"-left-2 top-2")});case"right-end":return T.jsx(de,{className:k(r,"-left-2 bottom-2")});case"bottom":return T.jsx(ve,{className:k(r,"-top-2 w-full left-0")});case"bottom-start":return T.jsx(ve,{className:k(r,"-top-2 left-0 ml-3")});case"bottom-end":return T.jsx(ve,{className:k(r,"-top-2 right-0 mr-3")});case"left":return T.jsx(me,{className:k(r,"-right-2 top-1/2 transform -translate-y-1/2")});case"left-start":return T.jsx(me,{className:k(r,"-right-2 top-2")});case"left-end":return T.jsx(me,{className:k(r,"-right-2 bottom-2")})}};return T.jsx("div",{children:o()})};function ue(){return typeof window<"u"}function qe(e){return Ze(e)?(e.nodeName||"").toLowerCase():"#document"}function q(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function At(e){var t;return(t=(Ze(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ze(e){return ue()?e instanceof Node||e instanceof q(e).Node:!1}function B(e){return ue()?e instanceof Element||e instanceof q(e).Element:!1}function ce(e){return ue()?e instanceof HTMLElement||e instanceof q(e).HTMLElement:!1}function xe(e){return!ue()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof q(e).ShadowRoot}function Dt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pe(e){return["html","body","#document"].includes(qe(e))}function Ot(e){return q(e).getComputedStyle(e)}function Lt(e){if(qe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xe(e)&&e.host||At(e);return xe(t)?t.host:t}function Ce(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function X(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&xe(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Je(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Qe(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Ft(e){return $t()?!1:!Ae()&&e.width===0&&e.height===0||Ae()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function et(){return/apple/i.test(navigator.vendor)}function Ae(){const e=/android/i;return e.test(Je())||e.test(Qe())}function jt(){return Je().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function $t(){return Qe().includes("jsdom/")}function Q(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Bt(e){return"nativeEvent"in e}function _t(e){return e.matches("html,body")}function Y(e){return(e==null?void 0:e.ownerDocument)||document}function ge(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function z(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Kt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function tt(e){return ce(e)&&e.matches(Kt)}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Wt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Se=Wt.join(","),nt=typeof Element>"u",ee=nt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,oe=!nt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},se=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),a=o===""||o==="true",s=a||n&&t&&e(t.parentNode);return s},Ht=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Vt=function(t,n,r){if(se(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Se));return n&&ee.call(t,Se)&&o.unshift(t),o=o.filter(r),o},Ut=function e(t,n,r){for(var o=[],a=Array.from(t);a.length;){var s=a.shift();if(!se(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),f=u.length?u:s.children,l=e(f,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else{var m=ee.call(s,Se);m&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var g=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),b=!se(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(g&&b){var d=e(g===!0?s.children:g.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:s,candidates:d})}else a.unshift.apply(a,s.children)}}return o},rt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},ot=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Ht(t))&&!rt(t)?0:t.tabIndex},Gt=function(t,n){var r=ot(t);return r<0&&n&&!rt(t)?0:r},Yt=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},st=function(t){return t.tagName==="INPUT"},zt=function(t){return st(t)&&t.type==="hidden"},Xt=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},qt=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},Zt=function(t){if(!t.name)return!0;var n=t.form||oe(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var a=qt(o,t.form);return!a||a===t},Jt=function(t){return st(t)&&t.type==="radio"},Qt=function(t){return Jt(t)&&!Zt(t)},en=function(t){var n,r=t&&oe(t),o=(n=r)===null||n===void 0?void 0:n.host,a=!1;if(r&&r!==t){var s,u,f;for(a=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(f=t.ownerDocument)!==null&&f!==void 0&&f.contains(t));!a&&o;){var l,m,g;r=oe(o),o=(l=r)===null||l===void 0?void 0:l.host,a=!!((m=o)!==null&&m!==void 0&&(g=m.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return a},De=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},tn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var a=ee.call(t,"details>summary:first-of-type"),s=a?t.parentElement:t;if(ee.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var f=t.parentElement,l=oe(t);if(f&&!f.shadowRoot&&o(f)===!0)return De(t);t.assignedSlot?t=t.assignedSlot:!f&&l!==t.ownerDocument?t=l.host:t=f}t=u}if(en(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return De(t);return!1},nn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return ee.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},rn=function(t,n){return!(n.disabled||se(n)||zt(n)||tn(n,t)||Xt(n)||nn(n))},Oe=function(t,n){return!(Qt(n)||ot(n)<0||!rn(t,n))},on=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},sn=function e(t){var n=[],r=[];return t.forEach(function(o,a){var s=!!o.scopeParent,u=s?o.scopeParent:o,f=Gt(u,s),l=s?e(o.candidates):u;f===0?s?n.push.apply(n,l):n.push(u):r.push({documentOrder:a,tabIndex:f,item:o,isScope:s,content:l})}),r.sort(Yt).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(n)},it=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Ut([t],n.includeContainer,{filter:Oe.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:on}):r=Vt(t,n.includeContainer,Oe.bind(null,n)),sn(r)},re=typeof document<"u"?i.useLayoutEffect:i.useEffect;function ie(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ie(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!ie(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function at(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Le(e,t){const n=at(e);return Math.round(t*n)/n}function he(e){const t=i.useRef(e);return re(()=>{t.current=e}),t}function an(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:s}={},transform:u=!0,whileElementsMounted:f,open:l}=e,[m,g]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,d]=i.useState(r);ie(b,r)||d(r);const[h,c]=i.useState(null),[R,C]=i.useState(null),P=i.useCallback(v=>{v!==D.current&&(D.current=v,c(v))},[]),E=i.useCallback(v=>{v!==O.current&&(O.current=v,C(v))},[]),M=a||h,A=s||R,D=i.useRef(null),O=i.useRef(null),W=i.useRef(m),L=f!=null,H=he(f),j=he(o),_=he(l),F=i.useCallback(()=>{if(!D.current||!O.current)return;const v={placement:t,strategy:n,middleware:b};j.current&&(v.platform=j.current),xt(D.current,O.current,v).then(p=>{const S={...p,isPositioned:_.current!==!1};$.current&&!ie(W.current,S)&&(W.current=S,Xe.flushSync(()=>{g(S)}))})},[b,t,n,j,_]);re(()=>{l===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,g(v=>({...v,isPositioned:!1})))},[l]);const $=i.useRef(!1);re(()=>($.current=!0,()=>{$.current=!1}),[]),re(()=>{if(M&&(D.current=M),A&&(O.current=A),M&&A){if(H.current)return H.current(M,A,F);F()}},[M,A,F,H,L]);const x=i.useMemo(()=>({reference:D,floating:O,setReference:P,setFloating:E}),[P,E]),I=i.useMemo(()=>({reference:M,floating:A}),[M,A]),y=i.useMemo(()=>{const v={position:n,left:0,top:0};if(!I.floating)return v;const p=Le(I.floating,m.x),S=Le(I.floating,m.y);return u?{...v,transform:"translate("+p+"px, "+S+"px)",...at(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:p,top:S}},[n,u,I.floating,m.x,m.y]);return i.useMemo(()=>({...m,update:F,refs:x,elements:I,floatingStyles:y}),[m,F,x,I,y])}const un=(e,t)=>({...Ct(e),options:[e,t]}),cn=(e,t)=>({...St(e),options:[e,t]}),ln=(e,t)=>({...Tt(e),options:[e,t]}),ut={...wt},fn=ut.useInsertionEffect,dn=fn||(e=>e());function G(e){const t=i.useRef(()=>{});return dn(()=>{t.current=e}),i.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var V=typeof document<"u"?i.useLayoutEffect:i.useEffect;function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}let Fe=!1,mn=0;const je=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+mn++;function vn(){const[e,t]=i.useState(()=>Fe?je():void 0);return V(()=>{e==null&&t(je())},[]),i.useEffect(()=>{Fe=!0},[]),e}const pn=ut.useId,Me=pn||vn;function gn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const hn=i.createContext(null),bn=i.createContext(null),Ie=()=>{var e;return((e=i.useContext(hn))==null?void 0:e.id)||null},Ne=()=>i.useContext(bn);function te(e){return"data-floating-ui-"+e}function be(e){const t=i.useRef(e);return V(()=>{t.current=e}),t}const $e=te("safe-polygon");function ye(e,t,n){return n&&!Q(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function yn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:a,elements:s}=e,{enabled:u=!0,delay:f=0,handleClose:l=null,mouseOnly:m=!1,restMs:g=0,move:b=!0}=t,d=Ne(),h=Ie(),c=be(l),R=be(f),C=be(n),P=i.useRef(),E=i.useRef(-1),M=i.useRef(),A=i.useRef(-1),D=i.useRef(!0),O=i.useRef(!1),W=i.useRef(()=>{}),L=i.useRef(!1),H=i.useCallback(()=>{var y;const v=(y=o.current.openEvent)==null?void 0:y.type;return(v==null?void 0:v.includes("mouse"))&&v!=="mousedown"},[o]);i.useEffect(()=>{if(!u)return;function y(v){let{open:p}=v;p||(clearTimeout(E.current),clearTimeout(A.current),D.current=!0,L.current=!1)}return a.on("openchange",y),()=>{a.off("openchange",y)}},[u,a]),i.useEffect(()=>{if(!u||!c.current||!n)return;function y(p){H()&&r(!1,p,"hover")}const v=Y(s.floating).documentElement;return v.addEventListener("mouseleave",y),()=>{v.removeEventListener("mouseleave",y)}},[s.floating,n,r,u,c,H]);const j=i.useCallback(function(y,v,p){v===void 0&&(v=!0),p===void 0&&(p="hover");const S=ye(R.current,"close",P.current);S&&!M.current?(clearTimeout(E.current),E.current=window.setTimeout(()=>r(!1,y,p),S)):v&&(clearTimeout(E.current),r(!1,y,p))},[R,r]),_=G(()=>{W.current(),M.current=void 0}),F=G(()=>{if(O.current){const y=Y(s.floating).body;y.style.pointerEvents="",y.removeAttribute($e),O.current=!1}}),$=G(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);i.useEffect(()=>{if(!u)return;function y(w){if(clearTimeout(E.current),D.current=!1,m&&!Q(P.current)||g>0&&!ye(R.current,"open"))return;const N=ye(R.current,"open",P.current);N?E.current=window.setTimeout(()=>{C.current||r(!0,w,"hover")},N):n||r(!0,w,"hover")}function v(w){if($())return;W.current();const N=Y(s.floating);if(clearTimeout(A.current),L.current=!1,c.current&&o.current.floatingContext){n||clearTimeout(E.current),M.current=c.current({...o.current.floatingContext,tree:d,x:w.clientX,y:w.clientY,onClose(){F(),_(),$()||j(w,!0,"safe-polygon")}});const ne=M.current;N.addEventListener("mousemove",ne),W.current=()=>{N.removeEventListener("mousemove",ne)};return}(P.current==="touch"?!X(s.floating,w.relatedTarget):!0)&&j(w)}function p(w){$()||o.current.floatingContext&&(c.current==null||c.current({...o.current.floatingContext,tree:d,x:w.clientX,y:w.clientY,onClose(){F(),_(),$()||j(w)}})(w))}if(B(s.domReference)){var S;const w=s.domReference;return n&&w.addEventListener("mouseleave",p),(S=s.floating)==null||S.addEventListener("mouseleave",p),b&&w.addEventListener("mousemove",y,{once:!0}),w.addEventListener("mouseenter",y),w.addEventListener("mouseleave",v),()=>{var N;n&&w.removeEventListener("mouseleave",p),(N=s.floating)==null||N.removeEventListener("mouseleave",p),b&&w.removeEventListener("mousemove",y),w.removeEventListener("mouseenter",y),w.removeEventListener("mouseleave",v)}}},[s,u,e,m,g,b,j,_,F,r,n,C,d,R,c,o,$]),V(()=>{var y;if(u&&n&&(y=c.current)!=null&&y.__options.blockPointerEvents&&H()){O.current=!0;const p=s.floating;if(B(s.domReference)&&p){var v;const S=Y(s.floating).body;S.setAttribute($e,"");const w=s.domReference,N=d==null||(v=d.nodesRef.current.find(Z=>Z.id===h))==null||(v=v.context)==null?void 0:v.elements.floating;return N&&(N.style.pointerEvents=""),S.style.pointerEvents="none",w.style.pointerEvents="auto",p.style.pointerEvents="auto",()=>{S.style.pointerEvents="",w.style.pointerEvents="",p.style.pointerEvents=""}}}},[u,n,h,s,d,c,H]),V(()=>{n||(P.current=void 0,L.current=!1,_(),F())},[n,_,F]),i.useEffect(()=>()=>{_(),clearTimeout(E.current),clearTimeout(A.current),F()},[u,s.domReference,_,F]);const x=i.useMemo(()=>{function y(v){P.current=v.pointerType}return{onPointerDown:y,onPointerEnter:y,onMouseMove(v){const{nativeEvent:p}=v;function S(){!D.current&&!C.current&&r(!0,p,"hover")}m&&!Q(P.current)||n||g===0||L.current&&v.movementX**2+v.movementY**2<2||(clearTimeout(A.current),P.current==="touch"?S():(L.current=!0,A.current=window.setTimeout(S,g)))}}},[m,r,n,C,g]),I=i.useMemo(()=>({onMouseEnter(){clearTimeout(E.current)},onMouseLeave(y){$()||j(y.nativeEvent,!1)}}),[j,$]);return i.useMemo(()=>u?{reference:x,floating:I}:{},[u,x,I])}function Ee(e,t){let n=e.filter(o=>{var a;return o.parentId===t&&((a=o.context)==null?void 0:a.open)}),r=n;for(;r.length;)r=e.filter(o=>{var a;return(a=r)==null?void 0:a.some(s=>{var u;return o.parentId===s.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}const ct=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function lt(e,t){const n=it(e,ct());t==="prev"&&n.reverse();const r=n.indexOf(Ce(Y(e)));return n.slice(r+1)[0]}function En(){return lt(document.body,"next")}function Rn(){return lt(document.body,"prev")}function Re(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!X(n,r)}function wn(e){it(e,ct()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Be(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const ft={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let xn;function _e(e){e.key==="Tab"&&(e.target,clearTimeout(xn))}const Ke=i.forwardRef(function(t,n){const[r,o]=i.useState();V(()=>(et()&&o("button"),document.addEventListener("keydown",_e),()=>{document.removeEventListener("keydown",_e)}),[]);const a={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[te("focus-guard")]:"",style:ft};return i.createElement("span",Te({},t,a))}),dt=i.createContext(null),We=te("portal");function Cn(e){e===void 0&&(e={});const{id:t,root:n}=e,r=Me(),o=Tn(),[a,s]=i.useState(null),u=i.useRef(null);return V(()=>()=>{a==null||a.remove(),queueMicrotask(()=>{u.current=null})},[a]),V(()=>{if(!r||u.current)return;const f=t?document.getElementById(t):null;if(!f)return;const l=document.createElement("div");l.id=r,l.setAttribute(We,""),f.appendChild(l),u.current=l,s(l)},[t,r]),V(()=>{if(n===null||!r||u.current)return;let f=n||(o==null?void 0:o.portalNode);f&&!B(f)&&(f=f.current),f=f||document.body;let l=null;t&&(l=document.createElement("div"),l.id=t,f.appendChild(l));const m=document.createElement("div");m.id=r,m.setAttribute(We,""),f=l||f,f.appendChild(m),u.current=m,s(m)},[t,n,r,o]),a}function Sn(e){const{children:t,id:n,root:r,preserveTabOrder:o=!0}=e,a=Cn({id:n,root:r}),[s,u]=i.useState(null),f=i.useRef(null),l=i.useRef(null),m=i.useRef(null),g=i.useRef(null),b=s==null?void 0:s.modal,d=s==null?void 0:s.open,h=!!s&&!s.modal&&s.open&&o&&!!(r||a);return i.useEffect(()=>{if(!a||!o||b)return;function c(R){a&&Re(R)&&(R.type==="focusin"?Be:wn)(a)}return a.addEventListener("focusin",c,!0),a.addEventListener("focusout",c,!0),()=>{a.removeEventListener("focusin",c,!0),a.removeEventListener("focusout",c,!0)}},[a,o,b]),i.useEffect(()=>{a&&(d||Be(a))},[d,a]),i.createElement(dt.Provider,{value:i.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:l,beforeInsideRef:m,afterInsideRef:g,portalNode:a,setFocusManagerState:u}),[o,a])},h&&a&&i.createElement(Ke,{"data-type":"outside",ref:f,onFocus:c=>{if(Re(c,a)){var R;(R=m.current)==null||R.focus()}else{const C=Rn()||(s==null?void 0:s.refs.domReference.current);C==null||C.focus()}}}),h&&a&&i.createElement("span",{"aria-owns":a.id,style:ft}),a&&Xe.createPortal(t,a),h&&a&&i.createElement(Ke,{"data-type":"outside",ref:l,onFocus:c=>{if(Re(c,a)){var R;(R=g.current)==null||R.focus()}else{const C=En()||(s==null?void 0:s.refs.domReference.current);C==null||C.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,c.nativeEvent,"focus-out"))}}}))}const Tn=()=>i.useContext(dt),Pn="data-floating-ui-focusable";function He(e){return ce(e.target)&&e.target.tagName==="BUTTON"}function Ve(e){return tt(e)}function Kn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:a}}=e,{enabled:s=!0,event:u="click",toggle:f=!0,ignoreMouse:l=!1,keyboardHandlers:m=!0,stickIfOpen:g=!0}=t,b=i.useRef(),d=i.useRef(!1),h=i.useMemo(()=>({onPointerDown(c){b.current=c.pointerType},onMouseDown(c){const R=b.current;c.button===0&&u!=="click"&&(Q(R,!0)&&l||(n&&f&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="mousedown")?r(!1,c.nativeEvent,"click"):(c.preventDefault(),r(!0,c.nativeEvent,"click"))))},onClick(c){const R=b.current;if(u==="mousedown"&&b.current){b.current=void 0;return}Q(R,!0)&&l||(n&&f&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="click")?r(!1,c.nativeEvent,"click"):r(!0,c.nativeEvent,"click"))},onKeyDown(c){b.current=void 0,!(c.defaultPrevented||!m||He(c))&&(c.key===" "&&!Ve(a)&&(c.preventDefault(),d.current=!0),c.key==="Enter"&&r(!(n&&f),c.nativeEvent,"click"))},onKeyUp(c){c.defaultPrevented||!m||He(c)||Ve(a)||c.key===" "&&d.current&&(d.current=!1,r(!(n&&f),c.nativeEvent,"click"))}}),[o,a,u,l,m,r,n,g,f]);return i.useMemo(()=>s?{reference:h}:{},[s,h])}const Mn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},In={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ue=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Nn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:o,dataRef:a}=e,{enabled:s=!0,escapeKey:u=!0,outsidePress:f=!0,outsidePressEvent:l="pointerdown",referencePress:m=!1,referencePressEvent:g="pointerdown",ancestorScroll:b=!1,bubbles:d,capture:h}=t,c=Ne(),R=G(typeof f=="function"?f:()=>!1),C=typeof f=="function"?R:f,P=i.useRef(!1),E=i.useRef(!1),{escapeKey:M,outsidePress:A}=Ue(d),{escapeKey:D,outsidePress:O}=Ue(h),W=i.useRef(!1),L=G(x=>{var I;if(!n||!s||!u||x.key!=="Escape"||W.current)return;const y=(I=a.current.floatingContext)==null?void 0:I.nodeId,v=c?Ee(c.nodesRef.current,y):[];if(!M&&(x.stopPropagation(),v.length>0)){let p=!0;if(v.forEach(S=>{var w;if((w=S.context)!=null&&w.open&&!S.context.dataRef.current.__escapeKeyBubbles){p=!1;return}}),!p)return}r(!1,Bt(x)?x.nativeEvent:x,"escape-key")}),H=G(x=>{var I;const y=()=>{var v;L(x),(v=z(x))==null||v.removeEventListener("keydown",y)};(I=z(x))==null||I.addEventListener("keydown",y)}),j=G(x=>{var I;const y=P.current;P.current=!1;const v=E.current;if(E.current=!1,l==="click"&&v||y||typeof C=="function"&&!C(x))return;const p=z(x),S="["+te("inert")+"]",w=Y(o.floating).querySelectorAll(S);let N=B(p)?p:null;for(;N&&!pe(N);){const K=Lt(N);if(pe(K)||!B(K))break;N=K}if(w.length&&B(p)&&!_t(p)&&!X(p,o.floating)&&Array.from(w).every(K=>!X(N,K)))return;if(ce(p)&&$){const K=pe(p),U=Ot(p),J=/auto|scroll/,pt=K||J.test(U.overflowX),gt=K||J.test(U.overflowY),ht=pt&&p.clientWidth>0&&p.scrollWidth>p.clientWidth,bt=gt&&p.clientHeight>0&&p.scrollHeight>p.clientHeight,yt=U.direction==="rtl",Et=bt&&(yt?x.offsetX<=p.offsetWidth-p.clientWidth:x.offsetX>p.clientWidth),Rt=ht&&x.offsetY>p.clientHeight;if(Et||Rt)return}const Z=(I=a.current.floatingContext)==null?void 0:I.nodeId,ne=c&&Ee(c.nodesRef.current,Z).some(K=>{var U;return ge(x,(U=K.context)==null?void 0:U.elements.floating)});if(ge(x,o.floating)||ge(x,o.domReference)||ne)return;const ke=c?Ee(c.nodesRef.current,Z):[];if(ke.length>0){let K=!0;if(ke.forEach(U=>{var J;if((J=U.context)!=null&&J.open&&!U.context.dataRef.current.__outsidePressBubbles){K=!1;return}}),!K)return}r(!1,x,"outside-press")}),_=G(x=>{var I;const y=()=>{var v;j(x),(v=z(x))==null||v.removeEventListener(l,y)};(I=z(x))==null||I.addEventListener(l,y)});i.useEffect(()=>{if(!n||!s)return;a.current.__escapeKeyBubbles=M,a.current.__outsidePressBubbles=A;let x=-1;function I(w){r(!1,w,"ancestor-scroll")}function y(){window.clearTimeout(x),W.current=!0}function v(){x=window.setTimeout(()=>{W.current=!1},Dt()?5:0)}const p=Y(o.floating);u&&(p.addEventListener("keydown",D?H:L,D),p.addEventListener("compositionstart",y),p.addEventListener("compositionend",v)),C&&p.addEventListener(l,O?_:j,O);let S=[];return b&&(B(o.domReference)&&(S=le(o.domReference)),B(o.floating)&&(S=S.concat(le(o.floating))),!B(o.reference)&&o.reference&&o.reference.contextElement&&(S=S.concat(le(o.reference.contextElement)))),S=S.filter(w=>{var N;return w!==((N=p.defaultView)==null?void 0:N.visualViewport)}),S.forEach(w=>{w.addEventListener("scroll",I,{passive:!0})}),()=>{u&&(p.removeEventListener("keydown",D?H:L,D),p.removeEventListener("compositionstart",y),p.removeEventListener("compositionend",v)),C&&p.removeEventListener(l,O?_:j,O),S.forEach(w=>{w.removeEventListener("scroll",I)}),window.clearTimeout(x)}},[a,o,u,C,l,n,r,b,s,M,A,L,D,H,j,O,_]),i.useEffect(()=>{P.current=!1},[C,l]);const F=i.useMemo(()=>({onKeyDown:L,...m&&{[Mn[g]]:x=>{r(!1,x.nativeEvent,"reference-press")},...g!=="click"&&{onClick(x){r(!1,x.nativeEvent,"reference-press")}}}}),[L,r,m,g]),$=i.useMemo(()=>({onKeyDown:L,onMouseDown(){E.current=!0},onMouseUp(){E.current=!0},[In[l]]:()=>{P.current=!0}}),[L,l]);return i.useMemo(()=>s?{reference:F,floating:$}:{},[s,F,$])}function kn(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Me(),a=i.useRef({}),[s]=i.useState(()=>gn()),u=Ie()!=null,[f,l]=i.useState(r.reference),m=G((d,h,c)=>{a.current.openEvent=d?h:void 0,s.emit("openchange",{open:d,event:h,reason:c,nested:u}),n==null||n(d,h,c)}),g=i.useMemo(()=>({setPositionReference:l}),[]),b=i.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return i.useMemo(()=>({dataRef:a,open:t,onOpenChange:m,elements:b,events:s,floatingId:o,refs:g}),[t,m,b,s,o,g])}function An(e){e===void 0&&(e={});const{nodeId:t}=e,n=kn({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[a,s]=i.useState(null),[u,f]=i.useState(null),m=(o==null?void 0:o.domReference)||a,g=i.useRef(null),b=Ne();V(()=>{m&&(g.current=m)},[m]);const d=an({...e,elements:{...o,...u&&{reference:u}}}),h=i.useCallback(E=>{const M=B(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;f(M),d.refs.setReference(M)},[d.refs]),c=i.useCallback(E=>{(B(E)||E===null)&&(g.current=E,s(E)),(B(d.refs.reference.current)||d.refs.reference.current===null||E!==null&&!B(E))&&d.refs.setReference(E)},[d.refs]),R=i.useMemo(()=>({...d.refs,setReference:c,setPositionReference:h,domReference:g}),[d.refs,c,h]),C=i.useMemo(()=>({...d.elements,domReference:m}),[d.elements,m]),P=i.useMemo(()=>({...d,...r,refs:R,elements:C,nodeId:t}),[d,R,C,t,r]);return V(()=>{r.dataRef.current.floatingContext=P;const E=b==null?void 0:b.nodesRef.current.find(M=>M.id===t);E&&(E.context=P)}),i.useMemo(()=>({...d,context:P,refs:R,elements:C}),[d,R,C,P])}function Dn(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:a,elements:s}=e,{enabled:u=!0,visibleOnly:f=!0}=t,l=i.useRef(!1),m=i.useRef(),g=i.useRef(!0);i.useEffect(()=>{if(!u)return;const d=q(s.domReference);function h(){!n&&ce(s.domReference)&&s.domReference===Ce(Y(s.domReference))&&(l.current=!0)}function c(){g.current=!0}return d.addEventListener("blur",h),d.addEventListener("keydown",c,!0),()=>{d.removeEventListener("blur",h),d.removeEventListener("keydown",c,!0)}},[s.domReference,n,u]),i.useEffect(()=>{if(!u)return;function d(h){let{reason:c}=h;(c==="reference-press"||c==="escape-key")&&(l.current=!0)}return o.on("openchange",d),()=>{o.off("openchange",d)}},[o,u]),i.useEffect(()=>()=>{clearTimeout(m.current)},[]);const b=i.useMemo(()=>({onPointerDown(d){Ft(d.nativeEvent)||(g.current=!1)},onMouseLeave(){l.current=!1},onFocus(d){if(l.current)return;const h=z(d.nativeEvent);if(f&&B(h))try{if(et()&&jt())throw Error();if(!h.matches(":focus-visible"))return}catch{if(!g.current&&!tt(h))return}r(!0,d.nativeEvent,"focus")},onBlur(d){l.current=!1;const h=d.relatedTarget,c=d.nativeEvent,R=B(h)&&h.hasAttribute(te("focus-guard"))&&h.getAttribute("data-type")==="outside";m.current=window.setTimeout(()=>{var C;const P=Ce(s.domReference?s.domReference.ownerDocument:document);!h&&P===s.domReference||X((C=a.current.floatingContext)==null?void 0:C.refs.floating.current,P)||X(s.domReference,P)||R||r(!1,c,"focus")})}}),[a,s.domReference,r,f]);return i.useMemo(()=>u?{reference:b}:{},[u,b])}const Ge="active",Ye="selected";function we(e,t,n){const r=new Map,o=n==="item";let a=e;if(o&&e){const{[Ge]:s,[Ye]:u,...f}=e;a=f}return{...n==="floating"&&{tabIndex:-1,[Pn]:""},...a,...t.map(s=>{const u=s?s[n]:null;return typeof u=="function"?e?u(e):null:u}).concat(e).reduce((s,u)=>(u&&Object.entries(u).forEach(f=>{let[l,m]=f;if(!(o&&[Ge,Ye].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof m=="function"){var g;(g=r.get(l))==null||g.push(m),s[l]=function(){for(var b,d=arguments.length,h=new Array(d),c=0;c<d;c++)h[c]=arguments[c];return(b=r.get(l))==null?void 0:b.map(R=>R(...h)).find(R=>R!==void 0)}}}else s[l]=m}),s),{})}}function On(e){e===void 0&&(e=[]);const t=e.map(u=>u==null?void 0:u.reference),n=e.map(u=>u==null?void 0:u.floating),r=e.map(u=>u==null?void 0:u.item),o=i.useCallback(u=>we(u,e,"reference"),t),a=i.useCallback(u=>we(u,e,"floating"),n),s=i.useCallback(u=>we(u,e,"item"),r);return i.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:s}),[o,a,s])}const Ln=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Fn(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:a=!0,role:s="dialog"}=t,u=(n=Ln.get(s))!=null?n:s,f=Me(),m=Ie()!=null,g=i.useMemo(()=>u==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":u==="alertdialog"?"dialog":u,"aria-controls":r?o:void 0,...u==="listbox"&&{role:"combobox"},...u==="menu"&&{id:f},...u==="menu"&&m&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[u,o,m,r,f,s]),b=i.useMemo(()=>{const h={id:o,...u&&{role:u}};return u==="tooltip"||s==="label"?h:{...h,...u==="menu"&&{"aria-labelledby":f}}},[u,o,f,s]),d=i.useCallback(h=>{let{active:c,selected:R}=h;const C={role:"option",...c&&{id:o+"-option"}};switch(s){case"select":return{...C,"aria-selected":c&&R};case"combobox":return{...C,...c&&{"aria-selected":!0}}}return{}},[o,s]);return i.useMemo(()=>a?{reference:g,floating:b,item:d}:{},[a,g,b,d])}const mt=e=>{const{className:t,children:n,isOpen:r=!1,placement:o="top",title:a,wrapperClass:s}=e,[u,f]=i.useState(r),l="gray-800",m="black",g=`tooltip bg-${l} dark:bg-${m}`,{refs:b,floatingStyles:d,context:h}=An({open:r,onOpenChange:f,placement:o,whileElementsMounted:Pt,middleware:[un(7),ln({fallbackAxisSideDirection:"start"}),cn()]}),c=yn(h,{move:!1}),R=Dn(h),C=Nn(h),P=Fn(h,{role:"tooltip"}),{getReferenceProps:E,getFloatingProps:M}=On([c,R,C,P]);return T.jsxs(T.Fragment,{children:[T.jsx("span",{ref:b.setReference,...E(),className:k("tooltip-wrapper",s),children:n}),T.jsx(Sn,{children:u&&T.jsx(It,{children:T.jsxs(Mt.div,{ref:b.setFloating,className:k(g,t),initial:{opacity:0,visibility:"hidden"},animate:u?{opacity:1,visibility:"visible"}:{opacity:0,visibility:"hidden"},transition:{duration:.15,type:"tween"},style:d,...M(),children:[T.jsx("span",{children:a}),T.jsx(kt,{placement:h.placement,color:l,colorDark:m})]})})})]})};mt.displayName="Tooltip";const ze=({children:e,chained:t,className:n})=>T.jsx("div",{className:k("avatar-group",t&&"avatar-group-chained",n),children:e}),vt=e=>{const{chained:t=!1,children:n,className:r,maxCount:o=4,onOmittedAvatarClick:a,omittedAvatarContent:s,omittedAvatarProps:u,omittedAvatarTooltip:f=!1}=e,l=i.Children.count(n),m=i.Children.toArray(n).map((g,b)=>i.cloneElement(g,{key:`grouped-avatar-${b}`}));if(o&&o<l){const g=m.slice(0,o),b=l-o,d=T.jsx(Pe,{className:a?"cursor-pointer":"",onClick:()=>a==null?void 0:a(),...u,children:s||`+${b}`});return g.push(f?T.jsx(mt,{title:`${b} More`,children:T.jsx(T.Fragment,{children:d})},"avatar-more-tooltip"):T.jsx(i.Fragment,{children:d},"avatar-more-tooltip")),T.jsx(ze,{className:r,chained:t,children:g})}return T.jsx(ze,{className:r,chained:t,children:n})};vt.displayName="AvatarGroup";const jn=Pe;jn.Group=vt;export{jn as A,mt as T,An as a,Dn as b,Kn as c,Nn as d,Fn as e,On as f,Me as g,ln as h,un as o,cn as s,Nt as u};
