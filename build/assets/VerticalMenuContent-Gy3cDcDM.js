import{R as se,q as ye,r as g,t as ae,j as i,m as N,O as X}from"./index-Bj3mz5Pw.js";import{M as B}from"./index-BLXFL4Zw.js";import{w as ie,i as D,f as Y,g as w,I as de,b as xe,A,c as le,a as je,e as ge,d as Ee}from"./navigation-icon.config-UNzV9II_.js";import{T as be}from"./index-Wjh0Y8Wg.js";import{D as Z}from"./index-qV6DytUs.js";import{r as ke,b as Ke}from"./Views-Bc58ZmG5.js";import{r as $e}from"./_getPrototype-Dx9yexOq.js";var G,Q;function Ce(){return Q||(Q=1,G={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),G}var Me=Ce();const Ie=se(Me);var Oe=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function U(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(Ie[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var a=new RegExp(Oe),s=null;(s=a.exec(e))!==null;)if(s[0].trim())if(s[1]){var c=s[1].trim(),f=[c,""];c.indexOf("=")>-1&&(f=c.split("=")),t.attrs[f[0]]=f[1],a.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var Ae=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Pe=/^\s*$/,Te=Object.create(null);function oe(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var a in n)r.push(a+'="'+n[a]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(oe,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var we={parse:function(e,t){t||(t={}),t.components||(t.components=Te);var n,r=[],a=[],s=-1,c=!1;if(e.indexOf("<")!==0){var f=e.indexOf("<");r.push({type:"text",content:f===-1?e:e.substring(0,f)})}return e.replace(Ae,function(h,j){if(c){if(h!=="</"+n.name+">")return;c=!1}var y,u=h.charAt(1)!=="/",b=h.startsWith("<!--"),K=j+h.length,l=e.charAt(K);if(b){var C=U(h);return s<0?(r.push(C),r):((y=a[s]).children.push(C),r)}if(u&&(s++,(n=U(h)).type==="tag"&&t.components[n.name]&&(n.type="component",c=!0),n.voidElement||c||!l||l==="<"||n.children.push({type:"text",content:e.slice(K,e.indexOf("<",K))}),s===0&&r.push(n),(y=a[s-1])&&y.children.push(n),a[s]=n),(!u||n.voidElement)&&(s>-1&&(n.voidElement||n.name===h.slice(2,-1))&&(s--,n=s===-1?r:a[s]),!c&&l!=="<"&&l)){y=s===-1?r:a[s].children;var p=e.indexOf("<",K),d=e.slice(K,p===-1?void 0:p);Pe.test(d)&&(d=" "),(p>-1&&s+y.length>=0||d!==" ")&&y.push({type:"text",content:d})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+oe("",n)},"")}};const z=(e,t)=>{var r;if(!e)return!1;const n=((r=e.props)==null?void 0:r.children)??e.children;return t?n.length>0:!!n},R=e=>{var n,r;if(!e)return[];const t=((n=e.props)==null?void 0:n.children)??e.children;return(r=e.props)!=null&&r.i18nIsDynamicList?V(t):t},Ve=e=>Array.isArray(e)&&e.every(g.isValidElement),V=e=>Array.isArray(e)?e:[e],_e=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},ce=(e,t)=>{if(!e)return"";let n="";const r=V(e),a=t!=null&&t.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return r.forEach((s,c)=>{if(D(s))n+=`${s}`;else if(g.isValidElement(s)){const{props:f,type:h}=s,j=Object.keys(f).length,y=a.indexOf(h)>-1,u=f.children;if(!u&&y&&!j)n+=`<${h}/>`;else if(!u&&(!y||j)||f.i18nIsDynamicList)n+=`<${c}></${c}>`;else if(y&&j===1&&D(u))n+=`<${h}>${u}</${h}>`;else{const b=ce(u,t);n+=`<${c}>${b}</${c}>`}}else if(s===null)Y("Trans: the passed in value is invalid - seems you passed in a null child.");else if(w(s)){const{format:f,...h}=s,j=Object.keys(h);if(j.length===1){const y=f?`${j[0]}, ${f}`:j[0];n+=`{{${y}}}`}else Y("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",s)}else Y("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",s)}),n},Se=(e,t,n,r,a,s)=>{if(t==="")return[];const c=r.transKeepBasicHtmlNodesFor||[],f=t&&new RegExp(c.map(p=>`<${p}`).join("|")).test(t);if(!e&&!f&&!s)return[t];const h={},j=p=>{V(p).forEach(m=>{D(m)||(z(m)?j(R(m)):w(m)&&!g.isValidElement(m)&&Object.assign(h,m))})};j(e);const y=we.parse(`<0>${t}</0>`),u={...h,...a},b=(p,d,m)=>{var x;const $=R(p),O=l($,d.children,m);return Ve($)&&O.length===0||(x=p.props)!=null&&x.i18nIsDynamicList?$:O},K=(p,d,m,$,O)=>{p.dummy?(p.children=d,m.push(g.cloneElement(p,{key:$},O?void 0:d))):m.push(...g.Children.map([p],x=>{const o={...x.props};return delete o.i18nIsDynamicList,g.createElement(x.type,{...o,key:$,ref:x.ref},O?null:d)}))},l=(p,d,m)=>{const $=V(p);return V(d).reduce((x,o,I)=>{var F,S;const P=((S=(F=o.children)==null?void 0:F[0])==null?void 0:S.content)&&n.services.interpolator.interpolate(o.children[0].content,u,n.language);if(o.type==="tag"){let M=$[parseInt(o.name,10)];m.length===1&&!M&&(M=m[0][o.name]),M||(M={});const E=Object.keys(o.attrs).length!==0?_e({props:o.attrs},M):M,T=g.isValidElement(E),L=T&&z(o,!0)&&!o.voidElement,q=f&&w(E)&&E.dummy&&!T,H=w(e)&&Object.hasOwnProperty.call(e,o.name);if(D(E)){const k=n.services.interpolator.interpolate(E,u,n.language);x.push(k)}else if(z(E)||L){const k=b(E,o,m);K(E,k,x,I)}else if(q){const k=l($,o.children,m);K(E,k,x,I)}else if(Number.isNaN(parseFloat(o.name)))if(H){const k=b(E,o,m);K(E,k,x,I,o.voidElement)}else if(r.transSupportBasicHtmlNodes&&c.indexOf(o.name)>-1)if(o.voidElement)x.push(g.createElement(o.name,{key:`${o.name}-${I}`}));else{const k=l($,o.children,m);x.push(g.createElement(o.name,{key:`${o.name}-${I}`},k))}else if(o.voidElement)x.push(`<${o.name} />`);else{const k=l($,o.children,m);x.push(`<${o.name}>${k}</${o.name}>`)}else if(w(E)&&!T){const k=o.children[0]?P:null;k&&x.push(k)}else K(E,P,x,I,o.children.length!==1||!P)}else if(o.type==="text"){const M=r.transWrapTextNodes,E=s?r.unescape(n.services.interpolator.interpolate(o.content,u,n.language)):n.services.interpolator.interpolate(o.content,u,n.language);M?x.push(g.createElement(M,{key:`${o.name}-${I}`},E)):x.push(E)}return x},[])},C=l([{dummy:!0,children:e||[]}],y,V(e||[]));return R(C[0])},ue=(e,t,n)=>{const r=e.key||t,a=g.cloneElement(e,{key:r});if(!a.props||!a.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return a;function s(){return g.createElement(g.Fragment,null,a)}return g.createElement(s)},De=(e,t)=>e.map((n,r)=>ue(n,r,t)),Fe=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:ue(e[r],r,t)})}),n},Le=(e,t)=>e?Array.isArray(e)?De(e,t):w(e)?Fe(e,t):(ie("<Trans /> component prop expects an object or an array"),null):null;function qe({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s={},values:c,defaults:f,components:h,ns:j,i18n:y,t:u,shouldUnescape:b,...K}){var E,T,L,q,H,k;const l=y||ae();if(!l)return ie("You will need to pass in an i18next instance by using i18nextReactModule"),e;const C=u||l.t.bind(l)||(he=>he),p={...ye(),...(E=l.options)==null?void 0:E.react};let d=j||C.ns||((T=l.options)==null?void 0:T.defaultNS);d=D(d)?[d]:d||["translation"];const m=ce(e,p),$=f||m||p.transEmptyNodeValue||r,{hashTransKey:O}=p,x=r||(O?O(m||$):m||$);(q=(L=l.options)==null?void 0:L.interpolation)!=null&&q.defaultVariables&&(c=c&&Object.keys(c).length>0?{...c,...l.options.interpolation.defaultVariables}:{...l.options.interpolation.defaultVariables});const o=c||t!==void 0&&!((k=(H=l.options)==null?void 0:H.interpolation)!=null&&k.alwaysFormat)||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},I={...s,context:a||s.context,count:t,...c,...o,defaultValue:$,ns:d},P=x?C(x,I):$,F=Le(h,P),S=Se(F||e,P,l,p,I,b),M=n??p.defaultTransParent;return M?g.createElement(M,K,S):S}function _({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s={},values:c,defaults:f,components:h,ns:j,i18n:y,t:u,shouldUnescape:b,...K}){var m;const{i18n:l,defaultNS:C}=g.useContext(de)||{},p=y||l||ae(),d=u||(p==null?void 0:p.t.bind(p));return qe({children:e,count:t,parent:n,i18nKey:r,context:a,tOptions:s,values:c,defaults:f,components:h,ns:j||(d==null?void 0:d.ns)||C||((m=p==null?void 0:p.options)==null?void 0:m.defaultNS),i18n:p,t:u,shouldUnescape:b,...K})}const W=({icon:e,gutter:t})=>typeof e!="string"&&!e?i.jsx(i.Fragment,{}):i.jsx("span",{className:`text-2xl ${t?"ltr:mr-2 rtl:ml-2":""}`,children:xe[e]});W.defaultProps={gutter:!0};const{MenuItem:He}=B,Be=({title:e,translateKey:t,children:n,direction:r})=>{const{t:a}=le();return i.jsx(be,{title:a(t)||e,placement:r==="rtl"?"left":"right",children:n})},v=e=>{const{nav:t,onLinkClick:n,sideCollapsed:r,userAuthority:a}=e;return i.jsx(A,{userAuthority:a,authority:t.authority,children:i.jsx(He,{eventKey:t.key,className:"mb-2",children:i.jsxs(N,{to:t.path,className:"flex items-center gap-2 h-full w-full",target:t.isExternalLink?"_blank":"",onClick:()=>n==null?void 0:n({key:t.key,title:t.title,path:t.path}),children:[i.jsx(W,{icon:t.icon}),!r&&i.jsx("span",{children:i.jsx(_,{i18nKey:t.translateKey,defaults:t.title})})]})},t.key)})},ee=({nav:e,onLinkClick:t,sideCollapsed:n,userAuthority:r,direction:a})=>i.jsx(A,{userAuthority:r,authority:e.authority,children:n?i.jsx(Be,{title:e.title,translateKey:e.translateKey,direction:a,children:i.jsx(v,{nav:e,sideCollapsed:n,userAuthority:r,onLinkClick:t})}):i.jsx(v,{nav:e,sideCollapsed:n,userAuthority:r,onLinkClick:t})}),{MenuItem:pe,MenuCollapse:We}=B,Ye=({nav:e,onLinkClick:t,userAuthority:n})=>i.jsx(A,{userAuthority:n,authority:e.authority,children:i.jsx(We,{label:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(W,{icon:e.icon}),i.jsx("span",{children:i.jsx(_,{i18nKey:e.translateKey,defaults:e.title})})]}),eventKey:e.key,expanded:!1,className:"mb-2",children:e.subMenu.map(r=>i.jsx(A,{userAuthority:n,authority:r.authority,children:i.jsx(pe,{eventKey:r.key,children:r.path?i.jsx(N,{className:"h-full w-full flex items-center",to:r.path,target:r.isExternalLink?"_blank":"",onClick:()=>t==null?void 0:t({key:r.key,title:r.title,path:r.path}),children:i.jsx("span",{children:i.jsx(_,{i18nKey:r.translateKey,defaults:r.title})})}):i.jsx("span",{children:i.jsx(_,{i18nKey:r.translateKey,defaults:r.title})})})},r.key))},e.key)}),Ge=({nav:e,onLinkClick:t,userAuthority:n,direction:r})=>{const a=i.jsx(pe,{eventKey:e.key,className:"mb-2",children:i.jsx(W,{icon:e.icon})},e.key);return i.jsx(A,{userAuthority:n,authority:e.authority,children:i.jsx(Z,{trigger:"hover",renderTitle:a,placement:r==="rtl"?"middle-end-top":"middle-start-top",children:e.subMenu.map(s=>i.jsx(A,{userAuthority:n,authority:s.authority,children:i.jsx(Z.Item,{eventKey:s.key,children:s.path?i.jsx(N,{className:"h-full w-full flex items-center",to:s.path,target:s.isExternalLink?"_blank":"",onClick:()=>t==null?void 0:t({key:s.key,title:s.title,path:s.path}),children:i.jsx("span",{children:i.jsx(_,{i18nKey:s.translateKey,defaults:s.title})})}):i.jsx("span",{children:i.jsx(_,{i18nKey:s.translateKey,defaults:s.title})})})},s.key))})})},te=({sideCollapsed:e,...t})=>e?i.jsx(Ge,{...t}):i.jsx(Ye,{...t});var J,ne;function ze(){if(ne)return J;ne=1;var e=ke(),t=$e(),n=Ke(),r="[object Object]",a=Function.prototype,s=Object.prototype,c=a.toString,f=s.hasOwnProperty,h=c.call(Object);function j(y){if(!n(y)||e(y)!=r)return!1;var u=t(y);if(u===null)return!0;var b=f.call(u,"constructor")&&u.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==h}return J=j,J}var Re=ze();const Je=se(Re),fe=(e,t)=>{if(!Array.isArray(e)&&e.key===t)return e;let n,r=!1;for(const a in e)if(a!=="icon"&&e.hasOwnProperty(a)&&typeof e[a]=="object"&&(Je(e[a])&&e[a].subMenu.length>0&&e[a].subMenu.some(s=>s.key===t)&&(r=!0),n=fe(e[a],t),n))return r&&(n.parentKey=e[a].key),n;return n},me=(e,t)=>e.find(r=>r.key===t)?!0:e.some(r=>me(r.subMenu,t)),Ne=(e,t)=>{let n={};return e.forEach(r=>{me([r],t)&&(n=r)}),n};function Xe(e,t){const n=g.useMemo(()=>fe(e,t),[e,t]),r=g.useMemo(()=>Ne(e,t),[e,t]);return{activedRoute:n,includedRouteTree:r}}const{MenuGroup:re}=B,rt=e=>{const{navMode:t=X.navMode,collapsed:n,routeKey:r,navigationTree:a=[],userAuthority:s=[],onMenuItemClick:c,direction:f=X.direction}=e,{t:h}=le(),[j,y]=g.useState([]),{activedRoute:u}=Xe(a,r);g.useEffect(()=>{j.length===0&&(u!=null&&u.parentKey)&&y([u==null?void 0:u.parentKey])},[u==null?void 0:u.parentKey]);const b=()=>{c==null||c()},K=l=>{if(l.subMenu.length===0&&l.type===je)return i.jsx(ee,{nav:l,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:b},l.key);if(l.subMenu.length>0&&l.type===ge)return i.jsx(te,{nav:l,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:c},l.key);if(l.type===Ee){if(l.subMenu.length>0)return i.jsx(A,{userAuthority:s,authority:l.authority,children:i.jsx(re,{label:h(l.translateKey)||l.title,children:l.subMenu.map(C=>C.subMenu.length>0?i.jsx(te,{nav:C,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:c},C.key):i.jsx(ee,{nav:C,sideCollapsed:n,userAuthority:s,direction:f,onLinkClick:c},C.key))})},l.key);l.title}};return i.jsx(B,{className:"px-4 pb-4",variant:t,sideCollapsed:n,defaultActiveKeys:u!=null&&u.key?[u.key]:[],defaultExpandedKeys:j,children:a.map(l=>K(l))})};export{rt as V,Xe as u};
